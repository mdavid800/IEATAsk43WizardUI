{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$version": "1.4.0-2025.06",
    "$id": "https://raw.githubusercontent.com/IEA-Task-43/digital_wra_data_standard/master/schema/iea43_wra_data_model.schema.json",
    "definitions": {
        "date_from": {
            "type": "string",
            "format": "date-time",
            "title": "Date From",
            "description": "The date from when these properties are active. If these properties follow a change, then this Date From should equal the previous Date To. The format of this date should follow ISO 8601 with the 'T' required. If a timezone is used, it is essential that this timezone is the same as the logger timezone.",
            "examples": [
                "2020-07-28T20:00:00"
            ]
        },
        "date_to": {
            "type": [
                "string",
                "null"
            ],
            "format": "date-time",
            "title": "Date To",
            "description": "The final end date for when these properties are active. If these properties are currently active please use null. If null is not allowed please use 2100-01-01T00:00:00. The format of this date should follow ISO 8601 with the 'T' required. If a timezone is used, it is essential that this timezone is the same as the logger timezone.",
            "examples": [
                "2020-07-28T20:00:00",
                "2100-01-01T00:00:00"
            ]
        },
        "notes": {
            "type": [
                "string",
                "null"
            ],
            "title": "Notes",
            "description": "Notes relating to these properties.",
            "examples": [
                "I can write anything I want here."
            ]
        },
        "update_at": {
            "type": [
                "string",
                "null"
            ],
            "format": "date-time",
            "title": "Date of Update",
            "description": "The date these properties were last updated.",
            "examples": [
                "2020-07-28T20:49:13"
            ]
        },
        "offset_from_utc_hrs": {
            "type": [
                "number",
                "null"
            ],
            "title": "Offset From UTC [hr]",
            "description": "The number of hours that the resulting timeseries dataset is offset from UTC. E.g. -5 for Eastern Standard Time.",
            "examples": [
                "-5 (for Eastern Standard Time)",
                "1 (for Central European Time)",
                "5.5 (for India Standard Time)"
            ]
        },
        "averaging_period_minutes": {
            "type": [
                "integer",
                "null"
            ],
            "title": "Averaging Period [min]",
            "description": "The number of minutes the model outputs the timeseries data at. Also known as 'time step' or 'averaging step'",
            "examples": [
                "10",
                "60"
            ]
        },
        "timestamp_is_end_of_period": {
            "type": [
                "boolean",
                "null"
            ],
            "title": "Timestamp at End of Period",
            "description": "Does the timestamp represent the end of the averaging period. True is for timestamp to represent the end of the averaging period and false is for timestamp to represent the start of the averaging period.",
            "examples": [
                "true (for timestamp to represent the end of the averaging period)",
                "false (for timestamp to represent the start of the averaging period)"
            ]
        },
        "measurement_type": {
            "type": "string",
            "title": "Measurement Type",
            "description": "The type of measurement been made. See more information in the examples.",
            "enum": [
                "wind_speed",
                "wind_direction",
                "air_temperature",
                "water_temperature",
                "temperature",
                "air_pressure",
                "air_density",
                "relative_humidity",
                "voltage",
                "current",
                "resistance",
                "power",
                "energy",
                "vertical_wind_speed",
                "wind_speed_turbulence",
                "precipitation",
                "ice_detection",
                "global_horizontal_irradiance",
                "direct_normal_irradiance",
                "diffuse_horizontal_irradiance",
                "global_tilted_irradiance",
                "global_normal_irradiance",
                "albedo",
                "soiling_loss_index",
                "illuminance",
                "fog",
                "salinity",
                "conductivity",
                "pressure",
                "gps_coordinates",
                "status",
                "flag",
                "counter",
                "availability",
                "quality",
                "carrier_to_noise_ratio",
                "doppler_spectral_broadening",
                "echo_intensity",
                "signal_to_noise_ratio",
                "motion_corrected_wind_speed",
                "motion_corrected_wind_direction",
                "motion_corrected_vertical_wind_speed",
                "wave_height",
                "wave_significant_height",
                "wave_maximum_height",
                "wave_direction",
                "wave_directional_spread",
                "wave_period",
                "wave_peak_period",
                "wave_period_first_frequency",
                "wave_period_second_frequency",
                "wave_period_zero_crossing",
                "wave_energy_spectrum",
                "wave_energy_spectrum_maximum",
                "water_speed",
                "vertical_water_speed",
                "water_direction",
                "orientation",
                "compass_direction",
                "true_north_offset",
                "tilt",
                "tilt_x",
                "tilt_y",
                "tilt_z",
                "pitch",
                "roll",
                "heading",
                "u",
                "v",
                "w",
                "elevation",
                "altitude",
                "height",
                "azimuth",
                "water_level",
                "depth",
                "fuel_level",
                "turbidity",
                "visibility_in_air",
                "mass_concentration",
                "timestamp",
                "obukhov_length",
                "other"
            ]
        },
        "measurement_units": {
            "type": [
                "string",
                "null"
            ],
            "enum": [
                "m/s",
                "cm/s",
                "mm/s",
                "mph",
                "knots",
                "deg",
                "deg_C",
                "deg_F",
                "K",
                "%",
                "mbar",
                "dbar",
                "hPa",
                "Pa",
                "atm",
                "mmHg",
                "inHg",
                "kg/m^2",
                "kg/m^3",
                "V",
                "mV",
                "mA",
                "A",
                "ohm",
                "Hz",
                "mm",
                "m",
                "s",
                "W/m^2",
                "W",
                "kW",
                "MW",
                "kWh",
                "MWh",
                "m/s^2",
                "lux",
                "dB",
                "L",
                "g/L",
                "ug/L",
                "g/kg",
                "ppt",
                "ppm",
                "psu",
                "ntu",
                "fnu",
                "ftu",
                "S/m",
                "km/h",
                "(m/s)/V",
                "(m/s)/mV",
                "(m/s)/mA",
                "(m/s)/Hz",
                "(m/s)/-",
                "(m/s)/(cm/s)",
                "(m/s)/(km/h)",
                "(m/s)/mph",
                "(m/s)/knots",
                "(m/s)/(m/s)",
                "mbar/V",
                "mbar/mV",
                "hPa/V",
                "hPa/mV",
                "deg_C/V",
                "deg_C/mV",
                "%/V",
                "%/mV",
                "m^2/Hz",
                "m^2_s",
                "1",
                "-",
                null
            ]
        },
        "orientation_reference": {
            "type": [
                "string",
                "null"
            ],
            "title": "Orientation Reference",
            "description": "The orientation reference the item is measured against. E.g. magnetic north.",
            "enum": [
                "magnetic_north",
                "true_north",
                "grid_north",
                null
            ]
        },
        "height_reference": {
            "type": [
                "string",
                "null"
            ],
            "title": "Height Reference",
            "description": "The height reference frame that is used to measure the item height. E.g. onshore this is 'ground level' i.e. the item is 0.5 m above ground level. Offshore is a bit different as it can be 20 m above 'mean sea level' or 20 m above 'lowest astronomical tide' for a fixed structure or 20 m above 'sea level' for a floating lidar.",
            "enum": [
                "ground_level",
                "mean_sea_level",
                "sea_level",
                "lowest_astronomical_tide",
                "sea_floor",
                "other",
                null
            ],
            "default": "ground_level"
        }
    },
    "type": "object",
    "title": "IEA Wind Resource Assessment - Data Model",
    "description": "This Data Model schema is a digital representation of a meteorological mast used for measuring the wind resource of a potential wind farm.",
    "properties": {
        "author": {
            "type": "string",
            "title": "Author",
            "description": "The person or system who created this data model representing a specific mast.",
            "examples": [
                "Stephen Holleran",
                "Joe Bloggs"
            ]
        },
        "organisation": {
            "type": "string",
            "title": "Organisation",
            "description": "The organisation the Author is from.",
            "examples": [
                "brightwind",
                "Wind Developer Ltd."
            ]
        },
        "date": {
            "type": "string",
            "format": "date",
            "title": "Date",
            "description": "The date this file was created. Format should be YYYY-MM-DD",
            "examples": [
                "2020-07-28"
            ]
        },
        "version": {
            "type": "string",
            "title": "Version",
            "description": "The version of the IEA WRA Data Model this file is based on. The format of this follows Semantic Versioning with the year and month tagged on after. E.g. 1.1.1-2020.07",
            "examples": [
                "0.1.0-2020.06",
                "1.1.1-2020.07"
            ],
            "pattern": "^([0-9]{1,2})[.]([0-9]{1,2})[.]([0-9]{1,2})-([0-9]{4})[.]([0-9]{2})$"
        },
        "license": {
            "type": [
                "string",
                "null"
            ],
            "title": "License",
            "description": "Expected to be used as the Dublin Core Metadata Initiative intended. Link: http://purl.org/dc/terms/license Definition: A legal document giving official permission to do something with the resource. Comment: Recommended practice is to identify the license document with a URI. If this is not possible or feasible, a literal value that identifies the license may be provided.",
            "examples": [
                "https://opensource.org/license/bsd-3-clause/",
                "BSD-3-Clause"
            ]
        },
        "plant_name": {
            "type": [
                "string",
                "null"
            ],
            "title": "Plant Name",
            "description": "The name of the wind farm this met mast is associated with.",
            "examples": [
                "A Name of Wind Farm"
            ]
        },
        "plant_type": {
            "type": [
                "string",
                "null"
            ],
            "title": "Plant Type",
            "description": "The type of renewable generation plant it is.",
            "enum": [
                "onshore_wind",
                "offshore_wind",
                "solar",
                null
            ]
        },
        "measurement_location": {
            "type": "array",
            "title": "Measurement Location",
            "description": "This is the geographic location of the meteorological measurement station i.e. a met mast/tower or remote sensing device.",
            "items": {
                "type": "object",
                "title": "Measurement Location",
                "properties": {
                    "uuid": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "format": "uuid",
                        "title": "UUID",
                        "description": "The unique identifier of the measurement location in the UUID format. A UUID can be generated here https://www.uuidgenerator.net/",
                        "examples": [
                            "3d40f012-a525-4024-a626-5fcf954c59cf"
                        ]
                    },
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "The name given to the measurement location i.e. to the met mast or remote sensing device. Unique names are recommended to avoid two locations in the same context being given the same name.",
                        "examples": [
                            "AName_MM1"
                        ]
                    },
                    "latitude_ddeg": {
                        "type": "number",
                        "title": "Latitude [ddeg]",
                        "description": "Latitude coordinate in the Geographic Coordinate System using the WGS84 reference coordinate system, [EPSG:4326](https://epsg.io/4326). Unit of measure is in decimal degrees. Latitude lines are parallel to the equator where their position ranges from -90 degrees at the south pole to 90 degrees at the north pole.",
                        "examples": [
                            52.973
                        ],
                        "minimum": -90,
                        "maximum": 90
                    },
                    "longitude_ddeg": {
                        "type": "number",
                        "title": "Longitude [ddeg]",
                        "description": "Longitude coordinate in the Geographic Coordinate System using the WGS84 reference coordinate system, [EPSG:4326](https://epsg.io/4326). Unit of measure is in decimal degrees. Longitude lines are perpendicular to the equator where their position ranges from 0° at Greenwich Mean Time increasing to +180° as you move eastward and decreasing to −180° as you move westward.",
                        "examples": [
                            -9.431
                        ],
                        "minimum": -180,
                        "maximum": 180
                    },
                    "measurement_station_type_id": {
                        "title": "Measurement Station Type",
                        "description": "The type of measurement station. This must be one of either met mast, lidar (a vertical profiler), sodar (also a vertical profiler), floating lidar (floating vertical profiler lidar), wave buoy, ADCP (Acoustic Doppler Current Profiler) or a solar measurement station.",
                        "type": "string",
                        "enum": [
                            "mast",
                            "lidar",
                            "sodar",
                            "floating_lidar",
                            "wave_buoy",
                            "adcp",
                            "solar",
                            "virtual_met_mast",
                            "reanalysis"
                        ]
                    },
                    "notes": {
                        "$ref": "#/definitions/notes"
                    },
                    "update_at": {
                        "$ref": "#/definitions/update_at"
                    },
                    "measurement_point": {
                        "type": "array",
                        "title": "Measurement Point",
                        "description": "This represents a point in space where a measurement takes place.",
                        "items": {
                            "type": "object",
                            "title": "Measurement Point",
                            "properties": {
                                "name": {
                                    "type": "string",
                                    "title": "Name",
                                    "description": "The name the measurement point is commonly referred to. This is the name that is used to refer to the data in an analysis and reporting."
                                },
                                "measurement_type_id": {
                                    "$ref": "#/definitions/measurement_type"
                                },
                                "height_m": {
                                    "type": [
                                        "number",
                                        "null"
                                    ],
                                    "title": "Height [m]",
                                    "description": "The height (in meters) typically above ground level that the measurement is taking place. If you do not yet know the height please use null."
                                },
                                "height_reference_id": {
                                    "$ref": "#/definitions/height_reference"
                                },
                                "notes": {
                                    "$ref": "#/definitions/notes"
                                },
                                "update_at": {
                                    "$ref": "#/definitions/update_at"
                                },
                                "logger_measurement_config": {
                                    "type": "array",
                                    "title": "Logger Measurement Configuration",
                                    "description": "The measurement configuration that is programmed into the logging device.",
                                    "items": {
                                        "type": "object",
                                        "title": "Logger Measurement Configuration",
                                        "properties": {
                                            "column_name": {
                                                "type": "array",
                                                "title": "Column Names",
                                                "description": "The group of column names in the data file which relates to this sensor configuration.",
                                                "items": {
                                                    "type": "object",
                                                    "title": "Column Names",
                                                    "properties": {
                                                        "column_name": {
                                                            "type": "string",
                                                            "title": "Column Name",
                                                            "description": "The column name in the data file which relates to this sensor configuration."
                                                        },
                                                        "statistic_type_id": {
                                                            "type": "string",
                                                            "title": "Statistic Type",
                                                            "description": "The statistic, aggregation function or signal e.g. 'average' or 'maximum' that this column records.",
                                                            "enum": [
                                                                "avg",
                                                                "sd",
                                                                "max",
                                                                "min",
                                                                "count",
                                                                "availability",
                                                                "quality",
                                                                "sum",
                                                                "median",
                                                                "mode",
                                                                "range",
                                                                "gust",
                                                                "ti",
                                                                "ti30sec",
                                                                "text"
                                                            ]
                                                        },
                                                        "is_ignored": {
                                                            "type": "boolean",
                                                            "title": "Is Ignored",
                                                            "description": "If you want to ignore this column name, set to True.",
                                                            "default": false
                                                        },
                                                        "notes": {
                                                            "$ref": "#/definitions/notes"
                                                        },
                                                        "update_at": {
                                                            "$ref": "#/definitions/update_at"
                                                        }
                                                    },
                                                    "additionalProperties": false,
                                                    "required": [
                                                        "column_name",
                                                        "statistic_type_id"
                                                    ]
                                                },
                                                "additionalItems": false,
                                                "uniqueItems": true
                                            },
                                            "date_from": {
                                                "$ref": "#/definitions/date_from"
                                            },
                                            "date_to": {
                                                "$ref": "#/definitions/date_to"
                                            }
                                        },
                                        "additionalProperties": false,
                                        "required": [
                                            "column_name",
                                            "date_from",
                                            "date_to"
                                        ]
                                    },
                                    "additionalItems": false,
                                    "uniqueItems": true
                                },
                                "sensor": {
                                    "type": "array",
                                    "title": "Sensor",
                                    "description": "This represents information about the sensor taking the measurements.",
                                    "items": {
                                        "type": "object",
                                        "title": "Sensor",
                                        "properties": {
                                            "date_from": {
                                                "$ref": "#/definitions/date_from"
                                            },
                                            "date_to": {
                                                "$ref": "#/definitions/date_to"
                                            }
                                        },
                                        "additionalProperties": false,
                                        "required": [
                                            "date_from",
                                            "date_to"
                                        ]
                                    },
                                    "additionalItems": false,
                                    "uniqueItems": true
                                }
                            },
                            "additionalProperties": false,
                            "required": [
                                "name",
                                "measurement_type_id",
                                "height_m",
                                "logger_measurement_config"
                            ]
                        },
                        "additionalItems": false,
                        "uniqueItems": true
                    }
                },
                "additionalProperties": false,
                "required": [
                    "name",
                    "latitude_ddeg",
                    "longitude_ddeg",
                    "measurement_station_type_id",
                    "measurement_point"
                ]
            },
            "additionalItems": false,
            "uniqueItems": true
        }
    },
    "additionalProperties": true,
    "required": [
        "author",
        "organisation",
        "date",
        "version",
        "measurement_location"
    ]
}